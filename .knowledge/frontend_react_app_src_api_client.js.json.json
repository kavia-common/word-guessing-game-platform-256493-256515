{"is_source_file": true, "format": "JavaScript", "description": "This file is a client-side API wrapper for a Word Guessing Game frontend, providing functions to start a game, submit guesses, retrieve session info, and get the leaderboard. It also performs initial health checks on the backend API.", "external_files": ["fetch API (built-in)", "window object (browser environment)", "process.env (environment variables)"], "external_methods": ["fetch", "URL", "console.info", "console.warn", "console.error"], "published": ["getApiBase", "apiStartGame", "apiSubmitGuess", "apiGetSession", "apiGetLeaderboard"], "classes": [], "methods": [{"name": "safeEnv", "description": "Safely reads environment variables in CRA builds without throwing errors in browsers."}, {"name": "normalizeBaseEnsureApi", "description": "Removes trailing slashes and ensures the URL ends with /api."}, {"name": "normalizeBase", "description": "Removes trailing slashes without adding /api, used for detection."}, {"name": "getApiBase", "description": "Determines the effective API base URL, considering runtime override, environment variable, or default."}, {"name": "withBase", "description": "Constructs a full URL from a path, ensuring a single slash between base and path, and logs mixed content warnings."}, {"name": "logHttp", "description": "Logs HTTP request, response, and error details for diagnostics."}, {"name": "logAndProbeApiBase", "description": "Immediately invoked function that logs the API base and performs a health check via fetch."}, {"name": "doJson", "description": "Performs a fetch request with JSON handling, error processing, and optional authorization token attachment."}, {"name": "apiStartGame", "description": "Starts a new game session, optionally with a player name."}, {"name": "apiSubmitGuess", "description": "Submits a guess for a specific game session."}, {"name": "apiGetSession", "description": "Retrieves details of a game session by session ID."}, {"name": "apiGetLeaderboard", "description": "Fetches the leaderboard data."}], "calls": ["fetch", "console.info", "console.warn", "console.error", "URL", "window.__API_BASE__", "window.location", "window.__getSupabaseAccessToken__", "getApiBase", "withBase"], "search-terms": ["frontend API client", "Word Guessing Game", "health check", "API base URL", "fetch wrapper", "session management", "leaderboard"], "state": 2, "file_id": 13, "knowledge_revision": 137, "git_revision": "e1e6a086e02678c2e164c8a619acd6dbb20db368", "revision_history": [{"30": ""}, {"45": "9394d2417b0e6289d2f90f2e9e6d32e6319d488f"}, {"47": "a0dc16cf797fc9f448638a6a967a51e6bdd588e5"}, {"49": "85d56377ef3c0b88d89757df5d7c025ae31aa3f0"}, {"54": "17348a58fa56dfa2c81a9a4e43ae6ae5e744b88e"}, {"56": "208e4ac27609b07564871bc956bbbb30ab2bff6f"}, {"57": "a251f83795853566e81d92f9643fd5ed8c162940"}, {"75": "5164134abf3553b308e33ede3f4550fb987d25f5"}, {"91": "8077e2d00a5f3c7f70425a674e8f65b2473e2f35"}, {"95": "8077e2d00a5f3c7f70425a674e8f65b2473e2f35"}, {"96": "8077e2d00a5f3c7f70425a674e8f65b2473e2f35"}, {"98": "8077e2d00a5f3c7f70425a674e8f65b2473e2f35"}, {"100": "9c99f9d164cfd7115d014ccf8e4570106164cc9e"}, {"108": "d9a66b1f49de6f848ae48728ed16dff855e35f8e"}, {"137": "e1e6a086e02678c2e164c8a619acd6dbb20db368"}], "ctags": [], "filename": "frontend_react_app/src/api/client.js", "format-version": 4, "code-base-name": "https://github.com/kavia-common/word-guessing-game-platform-256493-256515.git:kavia-main"}